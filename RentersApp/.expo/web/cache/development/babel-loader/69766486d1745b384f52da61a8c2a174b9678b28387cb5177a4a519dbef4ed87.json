{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { port } from \"../port\";\nexport function fetchUser(_x) {\n  return _fetchUser.apply(this, arguments);\n}\nfunction _fetchUser() {\n  _fetchUser = _asyncToGenerator(function* (userID) {\n    try {\n      var response = yield fetch(port + \"/username\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          userID: userID\n        })\n      });\n      if (response.ok) {\n        var result = yield response.json();\n        var fname = result.first_name;\n        var lname = result.last_name;\n        var userName = fname + \" \" + lname;\n        return userName;\n      } else {\n        var error = yield response.json();\n        console.error(error.error);\n        return null;\n      }\n    } catch (err) {\n      console.error(err);\n      return null;\n    }\n  });\n  return _fetchUser.apply(this, arguments);\n}","map":{"version":3,"names":["port","fetchUser","_x","_fetchUser","apply","arguments","_asyncToGenerator","userID","response","fetch","method","headers","body","JSON","stringify","ok","result","json","fname","first_name","lname","last_name","userName","error","console","err"],"sources":["C:/Users/marlo/Desktop/Projects/Renters/functions/getUserName.tsx"],"sourcesContent":["import { port } from \"../port\";\r\n\r\nexport async function fetchUser(userID: string) {\r\n  // Execute SQL query to fetch user from database\r\n  try {\r\n    const response = await fetch(`${port}/username`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ userID }),\r\n    });\r\n    // Check if response is successful\r\n    if (response.ok) {\r\n      const result = await response.json();\r\n\r\n      const fname = result.first_name;\r\n      const lname = result.last_name;\r\n\r\n      // Set the fetched user data to state\r\n      const userName = `${fname} ${lname}`;\r\n      return userName;\r\n    } else {\r\n      const error = await response.json();\r\n      console.error(error.error); // Error message from the server\r\n      return null; // Return null or an appropriate value for error handling\r\n    }\r\n  } catch (err) {\r\n    console.error(err);\r\n    return null; // Return null or an appropriate value for error handling\r\n  }\r\n}\r\n"],"mappings":";AAAA,SAASA,IAAI;AAEb,gBAAsBC,SAASA,CAAAC,EAAA;EAAA,OAAAC,UAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AA6B9B,SAAAF,WAAA;EAAAA,UAAA,GAAAG,iBAAA,CA7BM,WAAyBC,MAAc,EAAE;IAE9C,IAAI;MACF,IAAMC,QAAQ,SAASC,KAAK,CAAIT,IAAI,gBAAa;QAC/CU,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEP,MAAM,EAANA;QAAO,CAAC;MACjC,CAAC,CAAC;MAEF,IAAIC,QAAQ,CAACO,EAAE,EAAE;QACf,IAAMC,MAAM,SAASR,QAAQ,CAACS,IAAI,CAAC,CAAC;QAEpC,IAAMC,KAAK,GAAGF,MAAM,CAACG,UAAU;QAC/B,IAAMC,KAAK,GAAGJ,MAAM,CAACK,SAAS;QAG9B,IAAMC,QAAQ,GAAMJ,KAAK,SAAIE,KAAO;QACpC,OAAOE,QAAQ;MACjB,CAAC,MAAM;QACL,IAAMC,KAAK,SAASf,QAAQ,CAACS,IAAI,CAAC,CAAC;QACnCO,OAAO,CAACD,KAAK,CAACA,KAAK,CAACA,KAAK,CAAC;QAC1B,OAAO,IAAI;MACb;IACF,CAAC,CAAC,OAAOE,GAAG,EAAE;MACZD,OAAO,CAACD,KAAK,CAACE,GAAG,CAAC;MAClB,OAAO,IAAI;IACb;EACF,CAAC;EAAA,OAAAtB,UAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}